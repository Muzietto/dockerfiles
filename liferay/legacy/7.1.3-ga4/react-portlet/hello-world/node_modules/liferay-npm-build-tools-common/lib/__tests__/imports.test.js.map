{"version":3,"sources":["../../src/__tests__/imports.test.js"],"names":["it","imports","dep1","dep2","dep9","dep8","depA","expect","toMatchSnapshot","provider1","provider2","toMatchObject","name","version","toThrow","describe","dep"],"mappings":";;AAAA;;AAEAA,GAAG,8BAAH,EAAmC,YAAM;AACxC,KAAMC,UAAU,qCAAuB;AACtC,eAAa;AACZC,SAAM,QADM;AAEZC,SAAM;AAFM,GADyB;AAKtC,eAAa;AACZC,SAAM,QADM;AAEZC,SAAM;AAFM,GALyB;AAStC,MAAI;AACHC,SAAM;AADH,GATkC;AAYtC,UAAQ;AACP,QAAK;AADE;AAZ8B,EAAvB,CAAhB;;AAiBAC,QAAON,OAAP,EAAgBO,eAAhB;AACA,CAnBD;;AAqBAR,GAAG,2BAAH,EAAgC,YAAM;AACrC,KAAMC,UAAU,kCAAoB;AACnCQ,aAAW;AACVP,SAAM,QADI;AAEVC,SAAM;AAFI,GADwB;AAKnCO,aAAW;AACVN,SAAM,QADI;AAEVC,SAAM;AAFI;AALwB,EAApB,CAAhB;;AAWAE,QAAON,QAAQ,MAAR,CAAP,EAAwBU,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIAN,QAAON,QAAQ,MAAR,CAAP,EAAwBU,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIAN,QAAON,QAAQ,MAAR,CAAP,EAAwBU,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIAN,QAAON,QAAQ,MAAR,CAAP,EAAwBU,aAAxB,CAAsC;AACrCC,QAAM,WAD+B;AAErCC,WAAS;AAF4B,EAAtC;AAIA,CA5BD;;AA8BAb,GAAG,uDAAH,EAA4D,YAAM;AACjEO,QAAO;AAAA,SACN,kCAAoB;AACnBE,cAAW;AACVP,UAAM;AADI,IADQ;AAInBQ,cAAW;AACVR,UAAM;AADI;AAJQ,GAApB,CADM;AAAA,EAAP,EASEY,OATF;AAUA,CAXD;;AAaAC,SAAS,uDAAT,EAAkE,YAAM;AACvEf,IAAG,kCAAH,EAAuC,YAAM;AAC5C,MAAMC,UAAU,kCAAoB;AACnC,OAAI;AACHe,SAAK;AADF;AAD+B,GAApB,CAAhB;;AAMAT,SAAON,QAAQ,KAAR,CAAP,EAAuBU,aAAvB,CAAqC,EAACC,MAAM,EAAP,EAAWC,SAAS,QAApB,EAArC;AACA,EARD;;AAUAb,IAAG,8BAAH,EAAmC,YAAM;AACxC,MAAMC,UAAU,kCAAoB;AACnCe,QAAK;AACJ,SAAK;AADD;AAD8B,GAApB,CAAhB;;AAMAT,SAAON,QAAQ,KAAR,CAAP,EAAuBU,aAAvB,CAAqC,EAACC,MAAM,EAAP,EAAWC,SAAS,QAApB,EAArC;AACA,EARD;AASA,CApBD","file":"imports.test.js","sourcesContent":["import {normalizeImportsConfig, unrollImportsConfig} from '../imports';\n\nit('normalizeImportsConfig works', () => {\n\tconst imports = normalizeImportsConfig({\n\t\t'provider1': {\n\t\t\tdep1: '^1.0.0',\n\t\t\tdep2: '^2.0.0',\n\t\t},\n\t\t'provider2': {\n\t\t\tdep9: '^9.0.0',\n\t\t\tdep8: '^8.0.0',\n\t\t},\n\t\t'': {\n\t\t\tdepA: '3.0.0',\n\t\t},\n\t\t'depB': {\n\t\t\t'/': '4.0.0',\n\t\t},\n\t});\n\n\texpect(imports).toMatchSnapshot();\n});\n\nit('unrollImportsConfig works', () => {\n\tconst imports = unrollImportsConfig({\n\t\tprovider1: {\n\t\t\tdep1: '^1.0.0',\n\t\t\tdep2: '^2.0.0',\n\t\t},\n\t\tprovider2: {\n\t\t\tdep9: '^9.0.0',\n\t\t\tdep8: '^8.0.0',\n\t\t},\n\t});\n\n\texpect(imports['dep1']).toMatchObject({\n\t\tname: 'provider1',\n\t\tversion: '^1.0.0',\n\t});\n\texpect(imports['dep2']).toMatchObject({\n\t\tname: 'provider1',\n\t\tversion: '^2.0.0',\n\t});\n\texpect(imports['dep9']).toMatchObject({\n\t\tname: 'provider2',\n\t\tversion: '^9.0.0',\n\t});\n\texpect(imports['dep8']).toMatchObject({\n\t\tname: 'provider2',\n\t\tversion: '^8.0.0',\n\t});\n});\n\nit('unrollImportsConfig throws for duplicated definitions', () => {\n\texpect(() =>\n\t\tunrollImportsConfig({\n\t\t\tprovider1: {\n\t\t\t\tdep1: '^1.0.0',\n\t\t\t},\n\t\t\tprovider2: {\n\t\t\t\tdep1: '^1.0.0',\n\t\t\t},\n\t\t})\n\t).toThrow();\n});\n\ndescribe('unrollImportsConfig handles null namespaces correctly', () => {\n\tit('when described the canonical way', () => {\n\t\tconst imports = unrollImportsConfig({\n\t\t\t'': {\n\t\t\t\tdep: '^1.0.0',\n\t\t\t},\n\t\t});\n\n\t\texpect(imports['dep']).toMatchObject({name: '', version: '^1.0.0'});\n\t});\n\n\tit('when described the sweet way', () => {\n\t\tconst imports = unrollImportsConfig({\n\t\t\tdep: {\n\t\t\t\t'/': '^1.0.0',\n\t\t\t},\n\t\t});\n\n\t\texpect(imports['dep']).toMatchObject({name: '', version: '^1.0.0'});\n\t});\n});\n"]}